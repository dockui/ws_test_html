<!DOCTYPE html>
<!-- saved from url=(0035)http://www.blue-zero.com/WebSocket/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>websocket在线测试</title>
    <meta content="WebSocket 在线测试 工具 物联网" name="description">
    <meta content="WebSocket 在线测试 工具 物联网" name="keywords">
    <link rel="stylesheet" href="./websocket在线测试_files/index.css">
    <link rel="stylesheet" href="./websocket在线测试_files/bootstrap.min.css">
    
<script src="./websocket在线测试_files/hm.js.下载"></script>
<style>
button {

 /* display:inline-block;
  width:20px;*/
}
</style>

</head>
<body>
   <!--  <div class="page-header">
        <h1 style="margin-top:-20px;margin-left:20px;"> test</h1>
        
    </div> -->
    <div>
        <div class="zone_conn">
            <input type="text" class="form-control" style="float:left;" id="inp_url" value="ws://localhost:3000" placeholder="连接的地址">
            <button type="button" id="btn_conn" class="btn btn-primary" style="float:left;margin-left:10px;margin-right:10px;" onclick="fun_initWebSocket();">连接</button>
            <button type="button" id="btn_close" class="btn btn-danger" style="float:left;" disabled="disabled" onclick="fun_close();">断开</button>
        </div>
        <div class="clearboth">
            1、连接格式为 ws://IP/域名:端口（示例ws://118.25.40.163:8088）<br>
        </div>
        <div class="zone_send">
            <!-- <a id="emoji" style="position:relative;left:374px;bottom:5px;cursor:pointer;" data-toggle="popover" title="" data-original-title="表情"><img style="outline-width:40px;" src="./websocket在线测试_files/huanglianwx_thumb.gif">表情</a> -->
            <textarea id="inp_send" class="form-control" style="height:50px;" placeholder="发送的内容"></textarea>
            <br>
            <button type="button" id="btn_send" class="btn btn-info" onclick="fun_sendto();">发送（ctrl+回车）</button>
        </div>
        <div style="margin-left: 20px;margin-top: 20px;width:300px">
            <table align="center" style="table-layout:fixed; width:100%;">     
                <tr >  
                  <td align = "center" >
                    <button type="button" id="" class="btn btn-info" onclick="fun_cmd_sendto(1000);">心跳</button>
                  </td> 
                  <td align = "center">
                    <button type="button" id="" class="btn btn-info" onclick="fun_cmd_sendto(1001);">login</button>
                  </td> 
                  <td align = "center" >
                    <button type="button" id="" class="btn btn-info" onclick="fun_cmd_sendto(999);">创建</button>
                  </td> 
                  <td align = "center">
                    <button type="button" id="" class="btn btn-info" onclick="fun_cmd_sendto(1010);">加入</button>
                  </td>
                </tr>  
          </table>  
        </div>


    </div>
    <div style="position:absolute;top:20px;left:470px;">
        <div id="div_msgzone" class="panel panel-default">
            <div class="panel-heading">消息窗口</div>
            <div id="div_msg" class="panel-body" style="width: 865px; height: 754px;"></div>
        </div>
    </div>

    <script type="text/javascript" src="./websocket在线测试_files/jquery-1.9.1.min.js.下载"></script>
    <script type="text/javascript" src="./websocket在线测试_files/bootstrap.min.js.下载"></script>
    <script type="text/javascript" src="./websocket在线测试_files/index.js.下载"></script>

<script>
    function heredoc(fn) {
    return fn.toString().split('\n').slice(1,-1).join('\n') + '\n'}

var msg_array = {}
 
 //heartbeat
// msg_array["1000"] ={
//     cmd:1000,
//     data:{
//         msg:0
//     }
// }
msg_array["1000"] =heredoc(function(){/*
    {
        "cmd": 1000,
        "data": {
            "username": "lisi"
        }
    }
*/}); 

//1001 loginnging  
msg_array["1001"] =heredoc(function(){/*
    {
        "cmd": 1001,
        "data": {
            "username": "lisi"
        }
    }
*/}); 
msg_array["999"] =heredoc(function(){/*
    {
        "cmd": 999,
        "data": {
            "uid": 2
        }
    }   
 */}); 
msg_array["1010"] =heredoc(function(){/*
    {
        "cmd": 1010,
        "data": {
            "uid": 2,
    "roomid":6261235
        }
    }
*/}); 

function fun_cmd_sendto(cmd){
$("#inp_send").val((msg_array[cmd])); 
$("#btn_send").trigger("click")
}
</script>
</body></html>